<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <title>Solartime</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Solartime</h1>
        <h2>A photoperiodic calculator to calculate sunset and sunrise times on various locations.</h2>

        <section id="downloads">
          <a href="https://github.com/syystunturi/solartime/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/syystunturi/solartime/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/syystunturi/solartime" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h3>
          <a name="solartime" class="anchor" href="#solartime"><span class="octicon octicon-link"></span></a>Fetching the source</h3>

          <p>Clone to your local computer with:</p>

          <pre><code>$ git clone git@github.com:syystunturi/solartime.git</code></pre>

          <p>If you already haven't, install Ruby with <a href="https://rvm.io/">rvm</a> and then install bundler with “sudo gem install bundler”.</p>

          <p>Then run bundle install:</p>

          <pre><code>$ bundle install
Using i18n 0.7.0
Using json 1.8.3
Using minitest 5.8.4
Using thread_safe 0.3.5
Using daemons 1.2.3
Using diff-lcs 1.2.5
Using eventmachine 1.0.9.1
Using rack 1.6.4
Using rspec-support 3.4.1
Using tilt 2.0.2
Using bundler 1.11.2
Using tzinfo 1.2.2
Using rack-protection 1.5.3
Using thin 1.6.4
Using rspec-core 3.4.2
Using rspec-expectations 3.4.0
Using rspec-mocks 3.4.1
Using activesupport 4.2.5.1
Using sinatra 1.4.7
Using rspec 3.4.0
Bundle complete! 4 Gemfile dependencies, 20 gems now installed.
Use `bundle show [gemname]` to see where a bundled gem is installed.</code></pre>

          <p>Run the tests and start the web server by running rake:</p>

          <pre><code>$ rake
rspec ruby
...

Finished in 0.00374 seconds (files took 0.26171 seconds to load)
3 examples, 0 failures

RSpec tests have been run.
Tests have been run.
Starting web server now. Exit with Ctrl + C.
ruby ruby/webserver.rb
== Sinatra (v1.4.7) has taken the stage on 4567 for development with backup from Thin
Thin web server (v1.6.4 codename Gob Bluth)
Maximum connections set to 1024
Listening on localhost:4567, CTRL+C to stop</code></pre>

        <h3>Running the program from command line</h3>

          <p>Enter the city and a <a href="http://qthlocator.free.fr/">Maidenhead locator square</a> within the command line parameters:</p>

          <pre><code>$ ruby/location.rb München JN58SD
München (JN58SD: 11.542 48.146)</code></pre>

        <h3>Running the web server only</h3>

          <p>Run the webserver like this:</p>

          <pre><code>$ ruby ruby/webserver.rb 
== Sinatra (v1.4.7) has taken the stage on 4567 for development with backup from Thin
Thin web server (v1.6.4 codename Gob Bluth)
Maximum connections set to 1024
Listening on localhost:4567, CTRL+C to stop
WARN: tilt autoloading 'tilt/erb' in a non thread-safe way; explicit require 'tilt/erb' suggested.
127.0.0.1 - - [12/Feb/2016:17:37:12 +0200] "GET / HTTP/1.1" 200 614 0.0388
127.0.0.1 - - [12/Feb/2016:17:37:12 +0200] "GET /solartime.css HTTP/1.1" 200 121 0.0015
127.0.0.1 - - [12/Feb/2016:17:37:15 +0200] "POST / HTTP/1.1" 200 738 0.0024
127.0.0.1 - - [12/Feb/2016:17:37:15 +0200] "GET /solartime.css HTTP/1.1" 200 121 0.0010</code></pre>

          <p>The web server is accessible at <a href="http://localhost:4567">the localhost</a> after that.</p>

          <p>And stop it with ctrl+c:</p>

          <pre><code>^CStopping ...
Stopping ...
== Sinatra has ended his set (crowd applauds)</code></pre>

        <h3>The sample web site</h3>

          <p>A sample web server for this project is running in the <a href="http://solartime.herokuapp.com/">Heroku</a> cloud.</p>

        <h3>The algorithms used in this project</h3>

          <p>If You're interested about the calculations, cf. Paul Schlyter: <a href="http://www.stjarnhimlen.se/comp/ppcomp.html">How to compute planetary positions</a>.</p>
      </section>
    </div>

  </body>
</html>
